<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Test - Pitzel</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .key-info {
            background: #f0f0f0;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Keyboard Event Test</h1>
        
        <div class="instructions">
            <h3>Test Instructions:</h3>
            <p>1. Press <strong>?</strong> key - should show help dialog</p>
            <p>2. Press <strong>H</strong> key - should be prevented (no help dialog)</p>
            <p>3. Check console for debug messages</p>
        </div>
        
        <h3>Key Press Events:</h3>
        <div id="key-events"></div>
        
        <h3>Expected Behavior:</h3>
        <ul>
            <li><strong>?</strong> key: Shows help dialog</li>
            <li><strong>H</strong> key: Prevented, no action</li>
            <li>Console should show debug messages</li>
        </ul>
    </div>

    <script>
        const keyEventsDiv = document.getElementById('key-events');
        
        document.addEventListener('keydown', (e) => {
            // Log all key events for debugging
            const keyInfo = `
                <div class="key-info">
                    <strong>Key:</strong> "${e.key}" | 
                    <strong>KeyCode:</strong> ${e.keyCode} | 
                    <strong>Prevented:</strong> ${e.defaultPrevented} |
                    <strong>Time:</strong> ${new Date().toLocaleTimeString()}
                </div>
            `;
            keyEventsDiv.innerHTML = keyInfo + keyEventsDiv.innerHTML;
            
            // Debug specific keys
            if (e.key === '?' || e.key === 'h' || e.key === 'H') {
                console.log('=== KEY EVENT DEBUG ===');
                console.log('Key pressed:', e.key);
                console.log('KeyCode:', e.keyCode);
                console.log('Prevented:', e.defaultPrevented);
                console.log('Target:', e.target);
                console.log('======================');
            }
            
            // Handle specific keys
            if (e.key === '?') {
                e.preventDefault();
                console.log('? key pressed - showing help dialog');
                alert('Help dialog should appear (this is the test)');
            } else if (e.key === 'h' || e.key === 'H') {
                e.preventDefault();
                console.log('H key prevented - should not show help');
            }
        });
        
        // Focus the page to capture key events
        window.focus();
        document.body.focus();
    </script>
</body>
</html> 